<% content_for(:title, "泥浆泵入库") %>
<% content_for(:page_header_description, "泥浆泵入库") %>
<%= content_for :page_specific_stylesheets do %>
  <%= stylesheet_link_tag "jquery-ui-1.10.3.custom.min" %>
  <%= stylesheet_link_tag "chosen" %>
  <%= stylesheet_link_tag 'datepicker' %>
<% end %>

<%= content_for :page_specific_javascripts do %>
  <%= javascript_include_tag 'jquery-ui-1.10.3.custom.min' %>
  <%= javascript_include_tag 'jquery.ui.touch-punch.min' %>
  <%= javascript_include_tag 'chosen.jquery.min' %>
  <%= javascript_include_tag 'fuelux/fuelux.spinner.min' %>
  <%= javascript_include_tag 'date-time/moment.min' %>
  <%= javascript_include_tag 'date-time/bootstrap-datepicker.min' %>
  <%= javascript_include_tag 'date-time/bootstrap-timepicker.min' %>
  <%= javascript_include_tag 'date-time/daterangepicker.min' %>
  <%= javascript_include_tag 'bootstrap-colorpicker.min' %>
<% end %>
<%= form_for @pump, :url=>{:action=>"create"} ,:html=>{:multipart=>true,:class=>"form-horizontal" } do |f| %>
  <% if @pump.errors.any? %>
    <div id="error_explanation">
      <h2> <%=pluralize(@pump.errors.count, "error") %> 错误由于：</h2>
      <ul>
        <% @pump.errors.full_messages.each do |msg| %>
          <li><%= msg %> </li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="row-fluid">
  <div class="span5">
  <div class="control-group">
    <%= f.label "设备编号", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :devicenumber , :class=>"input-large" %><span class="help-button ace-popover" data-trigger="hover" data-placement="left" data-content="设备编号为该设备的唯一标识" >?<span>
    </div>
  </div>
  </div>

  <div class="span5">
  <div class="control-group">
    <%= f.label "泥浆泵型号", :class=>"control-label" %>
    <div class="controls">
        <%= f.text_field :pumpmodel , :class=>"input-large" %><span class="help-button ace-popover" data-trigger="hover" data-placement="left" data-content="输入泥浆泵型号，例如:BW-150" >?<span>
    </div>
  </div>
  </div>
  </div>


  <div class="row-fluid">
  <div class="span5">
  <div class="control-group">
    <%= f.label "功率", :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
      <%= f.text_field :power , :class=>"input-large" %><span class="add-on">kW</span>
      </div>
    </div>
  </div>
  </div>

  <div class="span5">
  <div class="control-group">
    <%= f.label "压力", :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
      <%= f.text_field :pressure , :class=>"input-large" %><span class="add-on">MPa</span>
      </div>
    </div>
  </div>
  </div>
  </div>

  <div class="row-fluid">
  <div class="span5">
  <div class="control-group">
    <%= f.label "缸径", :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
      <%= f.text_field :pumpDiameter , :class=>"input-large" %><span class="add-on">mm</span>
      </div>
    </div>
  </div>
  </div>

  <div class="span5">
  <div class="control-group">
    <%= f.label "缸数", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :pumplineNumber , :class=>"input-large" %><span class="help-button ace-popover" data-trigger="hover" data-placement="left" data-content="输入缸数" >?<span>
    </div>
  </div>
  </div>
  </div>

  <div class="row-fluid">
  <div class="span5">
  <div class="control-group">
    <%= f.label "冲程", :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
      <%= f.text_field :stroke , :class=>"input-large" %><span class="add-on">mm</span>
      </div>
    </div>
  </div>
  </div>

  <div class="span5">
  <div class="control-group">
    <%= f.label "冲次(MAX)", :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
      <%= f.text_field :strokeTimes , :class=>"input-large" %><span class="add-on">次/min</span>
      </div>
    </div>
  </div>
  </div>
  </div>



  <div class="row-fluid">
  <div class="span5">
  <div class="control-group">
    <%= f.label "流量", :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
      <%= f.text_field :traffic , :class=>"input-large" %><span class="add-on">L/min</span>
      </div>
    </div>
  </div>
  </div>

  <div class="span5">
  <div class="control-group">
    <%= f.label "重量", :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
      <%= f.text_field :weight , :class=>"input-large" %><span class="add-on">kg</span>
      </div>
    </div>
  </div>
  </div>
  </div>


  <div class="row-fluid">
  <div class="span5">
  <div class="control-group">
    <%= f.label "厂商", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :manufacture , :class=>"input-large" %><span class="help-button ace-popover" data-trigger="hover" data-placement="left" data-content="输入厂商名称" >?<span>
    </div>
  </div>
  </div>

  <div class="span5">
  <div class="control-group">
    <%= f.label "厂商联系方式", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :manufactureContact , :class=>"input-large" %><span class="help-button ace-popover" data-trigger="hover" data-placement="left" data-content="输入厂商联系方式" >?<span>
    </div>
  </div>
  </div>
  </div>

  <div class="row-fluid">
  <div class="span6">
  <div class="control-group">
    <%= f.label "外观尺寸", :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
        <%= f.text_field :overallsize, :class=>"input-large" %><span class="add-on">长(mm)×宽(mm)×高(mm)</span>
      </div>
    </div>
  </div>
  </div>
  </div>

  <div class="row-fluid">
  <div class="span6">
  <div class="control-group">
    <%= f.label "图片", :class=>"control-label" %>
    <div class="controls">
      <input name="picture" type="file" class="input-medium" id="_pump_picture" />
    </div>
  </div>
  </div>
  </div>

  <div class="row-fluid">
  <div class="span6">
  <div class="control-group">
    <%= f.label "备注", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_area :remark , :rows=>"4", :cols=>"20", :class=>"input-xxlarge" %>
    </div>
  </div>
  </div>
  </div>

  <div class="form-actions">
    <%= f.submit "保存泥浆泵入库单" , :class=>"btn btn-primary" %>
    <%= link_back :class=>'btn btn-info'%>
  </div>
<% end %>
<%= content_for :inline_javascripts do %>
  <script type="text/javascript">

  $(function(){
  $(".ace-popover").popover();

  $('#_pump_picture').ace_file_input({
        no_file:'未选择文件 ...',
        btn_choose:'选择',
        btn_change:'重新选择',
        droppable:false,
        onchange:null,
        thumbnail:false //| true | large
        //whitelist:'gif|png|jpg|jpeg'
        //blacklist:'exe|php'
        //onchange:''
        //
        });

  $("#new_pump").validate({
  rules:{
  "pump[devicenumber]":{required:true,maxlength:500},
  "pump[pumpmodel]":{required:true, maxlength:50},
  "pump[power]":{required:true},
  "pump[pressure]":{required:true},
  "pump[weight]":{required:true},
  "pump[manufacture]":{required:true},
  "pump[manufactureContact]":{required:true},
  },
  messages:{
     "pump[devicenumber]":{required:"设备编号不能为空",maxlength:"设备编号不能超过500字符"},
     "pump[pumpmodel]":{required:"泥浆泵型号不能为空", maxlength:"泥浆泵型号不能超过50字符"},
     "pump[power]":{required:"泥浆泵功率不能为空"},
     "pump[pressure]":{required:"泥浆泵压力不能为空"},
     "pump[weight]":{required:"泥浆泵重量不能为空"},
     "pump[manufacture]":{required:"厂商不能为空"},
     "pump[manufactureContact]":{required:"厂商联系方式不能为空"},
  }
 });

});
</script>
<% end %>
