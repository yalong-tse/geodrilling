<%= render "header" %>

<%= render partial: "layouts/flash_messages" %>
<%= form_tag destroy_multiple_roles_path, :method => "delete" do  %>
<table class="table table-striped table-bordered table-hover">
  <thead>
    <tr>
      <% if can? :delete, Role %>
        <th class="center"><%= check_box_tag "selectAll" %><span class="lbl"></span></th>
      <% end %>
      <th><%= Role.human_attribute_name("name") %></th>
      <th><%= Role.human_attribute_name("description") %></th>
      <th><%= t 'labels.handle' %></th>
    </tr>
  </thead>
  <tbody>
  <% @roles.each do |role| %>
    <tr>
      <% if can? :delete, Role %>
        <td class="center"><%= check_box_tag "roles[]", role.id %><span class="lbl"></span></td>
      <% end %>
      <td><%= role.name %></td>
      <td><%= role.description %></td>
      <td class="td-actions">
        <div class="inline position-relative btn-group">
        <% if can? :read, role %>
          <%= link_to role, :class=>"btn btn-mini btn-success" do %>
            <i class="icon-eye-open bigger-120"></i>
          <% end %>
        <% end %>
        <% if can? :modify, role %>
          <%= link_to edit_role_path(role), :class=>"btn btn-mini btn-info" do %>
            <i class="icon-edit bigger-120"></i>
          <% end %>
        <% end %>
        <% if can? :delete, role %>
          <%= link_to role,:class=>"btn btn-mini btn-danger", :method=>:delete, :confirm => t('prompt.confirm.delete') do %>
            <i class="icon-trash bigger-120"></i>
          <% end %>
        <% end %>
        </div>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>
<br />
<% if can? :add, Role %>
  <%= link_to t('labels.new'), new_role_path, :class => "btn btn-primary" %>
<% end %>
<% if can? :delete, Role %>
  <%= submit_tag t('labels.destroy'), :class => "btn" %>
<% end %>
<% end %>
