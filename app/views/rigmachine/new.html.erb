<% content_for(:title, "设备管理﹥钻机入库") %>
<% content_for(:page_header_description, "钻塔入库") %>
<%= content_for :page_specific_stylesheets do %>
  <%= stylesheet_link_tag "jquery-ui-1.10.3.custom.min" %>
  <%= stylesheet_link_tag "chosen" %>
  <%= stylesheet_link_tag 'datepicker' %>
<% end %>

<%= content_for :page_specific_javascripts do %>
  <%= javascript_include_tag 'jquery-ui-1.10.3.custom.min' %>
  <%= javascript_include_tag 'jquery.ui.touch-punch.min' %>
  <%= javascript_include_tag 'chosen.jquery.min' %>
  <%= javascript_include_tag 'fuelux/fuelux.spinner.min' %>
  <%= javascript_include_tag 'date-time/moment.min' %>
  <%= javascript_include_tag 'date-time/bootstrap-datepicker.min' %>
  <%= javascript_include_tag 'date-time/bootstrap-timepicker.min' %>
  <%= javascript_include_tag 'date-time/daterangepicker.min' %>
  <%= javascript_include_tag 'bootstrap-colorpicker.min' %>
<% end %>

<%= form_for @rigmachine, :url=>{:action=>"create"} ,:html=>{:multipart=>true,:class=>"form-horizontal" } do |f| %>
  <% if @rigmachine.errors.any? %>
    <div id="error_explanation">
      <h2> <%=pluralize(@rigmachine.errors.count, "error") %> 错误由于：</h2>
      <ul>
        <% @rigmachine.errors.full_messages.each do |msg| %>
          <li><%= msg %> </li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="row-fluid">
  <div class="span5">
  <div class="control-group">
    <%= f.label "设备编号", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :devicenumber , :class=>"input-large" %>
    </div>
  </div>
  </div>

  <div class="span5">
  <div class="control-group">
    <%= f.label "钻机型号", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :rigmodel , :class=>"input-large" %>
    </div>
  </div>
  </div>
  </div>

  <div class="row-fluid">
  <div class="span5">
  <div class="control-group">
    <%= f.label "通孔直径", :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
        <%= f.text_field :pipeDiameter , :class=>"input-large" %><span class="add-on">mm</span>
      </div>
    </div>
  </div>
  </div>

  <div class="span5">
  <div class="control-group">
    <%= f.label "钻机功率", :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
        <%= f.text_field :rigPower , :class=>"input-large" %><span class="add-on">kW</span>
      </div>
    </div>
  </div>
  </div>
  </div>


  <div class="row-fluid">
  <div class="span5">
  <div class="control-group">
    <%= f.label "钻进能力", :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
        <%= f.text_field :righoleDeep , :class=>"input-large" %><span class="add-on">m</span>
      </div>
    </div>
  </div>
  </div>

  <div class="span5">
  <div class="control-group">
    <%= f.label "钻机重量", :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
      <%= f.text_field :rigweight, :class=>"input-large" %><span class="add-on">kg</span>
      </div>
    </div>
  </div>
  </div>
  </div>


  <div class="row-fluid">
  <div class="span5">
  <div class="control-group">
    <%= f.label "最小转速", :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
        <%= f.text_field :rotatingSpeed, :class=>"input-large" %><span class="add-on">r/min</span>
      </div>
    </div>
  </div>
  </div>

  <div class="span5">
  <div class="control-group">
    <%= f.label "最大转速", :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
        <%= f.text_field :maxrotatespeed, :class=>"input-large" %><span class="add-on">r/min</span>
      </div>
    </div>
  </div>
  </div>
</div>


  <div class="row-fluid">
  <div class="span5">
  <div class="control-group">
    <%= f.label "厂商", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :manufacture, :class=>"input-large" %>
    </div>
  </div>
  </div>

  <div class="span5">
  <div class="control-group">
    <%= f.label "厂商联系方式", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :manufactureContact, :class=>"input-large" %>
    </div>
  </div>
  </div>
  </div>


  <div class="row-fluid">
  <div class="span5">
  <div class="control-group">
    <%= f.label "外观尺寸", :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
        <%= f.text_field :overallsize, :class=>"input-large" %><span class="add-on">长(mm)×宽(mm)×高(mm)</span>
      </div>
    </div>
  </div>
</div>

  <div class="span5">
  <div class="control-group">
    <%= f.label "单位编码", :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
        <%= f.text_field :officialcode, :class=>"input-large" %>
      </div>
    </div>
  </div>
</div>

  </div>

  <div class="row-fluid">
  <div class="span5">
  <div class="control-group">
    <%= f.label "图片", :class=>"control-label" %>
    <div class="controls">
      <input name="rigmachine[attachment_attributes][data]" type="file" class="input-medium" id="_rigmachine_picture" />
      <% if @rigmachine.attachment %>
        <span id="att_<%=@rigmachine.attachment.id%>"><%=link_to @rigmachine.attachment.data.url do %><%= @rigmachine.attachment.data_origin_file_name %> <% end %><a href="#" onclick="deleteAttachment(<%=@rigmachine.attachment.id%>)"><i class="icon-remove bigger"></i></a></span>
      <% end %>
    </div>
  </div>
  </div>
  </div>

  <div class="row-fluid">
  <div class="span5">
  <div class="control-group">
    <%= f.label "备注", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_area :remark , :rows=>"4", :cols=>"20" , :class=>"input-xxlarge" %>
    </div>
  </div>
  </div>
  </div>

  <div class="form-actions">
    <%= f.submit "钻机入库单" , :class=>"btn btn-primary" %>
    <%= link_back :class=>'btn btn-info'%>
  </div>
<% end %>
<%= content_for :inline_javascripts do %>
  <script type="text/javascript">

  $(function(){


  $('#_rigmachine_picture').ace_file_input({
        no_file:'未选择文件 ...',
        btn_choose:'选择',
        btn_change:'重新选择',
        droppable:false,
        onchange:null,
        thumbnail:false //| true | large
        //whitelist:'gif|png|jpg|jpeg'
        //blacklist:'exe|php'
        //onchange:''
        //
        });

  $("#new_rigmachine").validate({
  rules:{
  "rigmachine[devicenumber]":{required:true,maxlength:500},
  "rigmachine[rigmodel]":{required:true, maxlength:50},
  "rigmachine[pipeDiameter]":{required:true},
  "rigmachine[rigPower]":{required:true},
  "rigmachine[righoleDeep]":{required:true},
  "rigmachine[manufacture]":{required:true},
  "rigmachine[manufactureContact]":{required:true},
  },
  messages:{
     "rigmachine[devicenumber]":{required:"设备编号不能为空",maxlength:"设备编号不能超过500字符"},
     "rigmachine[rigmodel]":{required:"钻机型号不能为空", maxlength:"钻机型号不能超过50字符"},
     "rigmachine[pipeDiameter]":{required:"钻孔直径不能为空"},
     "rigmachine[rigPower]":{required:"钻机功率不能为空"},
     "rigmachine[righoleDeep]":{required:"钻孔深度不能为空"},
     "rigmachine[manufacture]":{required:"厂商不能为空"},
     "rigmachine[manufactureContact]":{required:"厂商联系方式不能为空"},
  }
 });
});

</script>
<% end %>
