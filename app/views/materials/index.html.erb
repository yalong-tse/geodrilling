<% content_for(:title,"材料库存") %>
<div class="row-fluid">
<table id="_materials_table" class="table table-striped table-hover table-bordered">
<thead>
  <tr>
    <th width="20%">钻孔</th>
    <th width="20%">材料名称</th>
    <th width="10%">材料型号</th>
    <th width="10%">材料单价</th>
    <th width="10%">材料数量</th>
    <th width="20%">入库时间</th>
    <th width="20%">生产厂商</th>
  </tr>
</thead>
<tbody>
</tbody>
</table>
</div>
<br />

<% content_for :page_specific_javascripts do %>
  <%= javascript_include_tag 'jquery.dataTables.min' %>
  <%= javascript_include_tag 'jquery.dataTables.bootstrap' %>
<% end %>

<% content_for :inline_javascripts do %>
<script language="javascript">
  $(function(){
    $("a").bind('ajax:success',function(event,data,status,xhr){
      ("#_minearea").html(data.minearea);
    }).bind('ajax:error',function(event,xhr,status,error){});

    $("div.dt-search").html("<input id='dt-search-input' type='text''><button id='dt-search-btn' class='btn btn-mini'><i class='icon-search'></i></button>");

    $("#dt-search-btn").click(function(){
      var filterString = $('#dt-search-input').val();
      oTable1.fnFilter(filterString);
    });
  });

   var oTable1=$("#_materials_table").dataTable({
        "aoColumns":[null,null,null,null,null,null,null],
        "bProcessing":true,
        "bServerSide":true,
        "bAutoWidth" : false,
        "sAjaxSource":"<%=materials_path(:format=>:json) %>",
        "oLanguage":{
        "sLengthMenu":"每页 _MENU_",
        "sZeroRecords":"对不起,没有数据",
        "sInfo":"显示 _START_ 到 _END_ ,总计_TOTAL_数据",
        "sInfoEmpty":"显示 0 到 0 , 总计0数据",
        "sSearch": "检索",
        "sProcessing": "系统正在处理...",
        "sInfoFiltered":"(过滤_MAX_数据)" },
        "sDom": "<'row-fluid'<'span6'l><'span6'<'dt-search'>>r>t<'row-fluid'<'span4'i><'span8'p>>"
        }
     );

</script>
<% end %>
