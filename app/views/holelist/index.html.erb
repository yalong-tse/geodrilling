<% content_for(:title, "钻孔配置" ) %>
<% content_for(:page_header_description, "展示钻孔配置的项目经理、机长和班长；以及钻机、钻塔和泥浆泵") %>
<table id="_table_holes" class="table table-striped table-bordered table-hover" >
<thead>
  <tr>
    <th>孔号</th>
    <th>项目经理/机长/班长</th>
    <th>钻机</th>
    <th>钻塔</th>
    <th>泥浆泵</th>
    <th>状态</th>
    <th>操作</th>
  </tr>
</thead>

<tbody>
<% @holes_list.each do |hole| %>
  <tr>
    <td><%= link_to holenumber_dealing(hole.id),{:controller=>"holes", :action=>"show", :id=>hole.id} %></td>
    <td><%= hole_administrator hole.id %></td>
    <td><%= hole_rigmachine hole.id %></td>
    <td><%= hole_drilltower hole.id %></td>
    <td><%= hole_pump hole.id %></td>
    <td><%= hole_status_treat hole.status %></td>
    <td><%= hole_deployment(hole) %></td>
  </tr>
<% end %>
</tbody>
</table>

<% content_for :page_specific_javascripts do %>
  <%= javascript_include_tag 'jquery.dataTables.min' %>
  <%= javascript_include_tag 'jquery.dataTables.bootstrap' %>
<% end %>
<% content_for :inline_javascripts do %>
<script language="javascript">
  function open_hole_deployment(holeid)
  {
    //$("#_modal_material").modal();
    window.location.href="<%=holelist_deployment_path%>?holeid="+holeid
  }

  $(function(){
    var oTable1 = $("#_table_holes").dataTable({
      "aoColumns":[null,null,null,null,null,null,{"bSortable":false},{"bSortable":false}],
      "bAutoWidth" : false,
      "oLanguage":{
        "sLengthMenu":"每页 _MENU_",
        "sZeroRecords":"对不起,没有数据",
        "sInfo":"显示 _START_ 到 _END_ ,总计_TOTAL_数据",
        "sInfoEmpty":"显示 0 到 0 , 总计0条数据",
        "sSearch": "检索",
        "sProcessing": "系统正在处理...",
        "sInfoFiltered":"(过滤_MAX_数据)" },
    });

    $("div.dt-search").html("<input id='dt-search-input' type='text''><button id='dt-search-btn' class='btn btn-mini'><i class='icon-search'></i></button>");

  })
</script>
<% end %>
