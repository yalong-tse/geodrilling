<% content_for(:title,"库存管理") %>
<% content_for(:page_header_description, "分类查看设备的库存情况") %>
<%= content_for :page_specific_stylesheets do %>
  <%= stylesheet_link_tag 'jquery-ui-1.10.3.custom.min' %>
  <%= stylesheet_link_tag 'jquery.gritter.css' %>
<% end %>
<div class="tabbable">
  <ul class="nav nav-tabs" id="_tabs">
    <li class="active">
    <a href="#tab1" data-toggle="tab">
      <i class="pink icon-dashboard bigger-110"></i>
      钻机
    </a>
    </li>
    <li> 
    <a href="#tab2" data-toggle="tab">
      <i class="blue icon-user bigger-110"></i>
      钻塔
    </a>
    </li>
    <li> 
    <a href="#tab3" data-toggle="tab">
      <i class="icon-rocket"></i>
      泥浆泵
    </a>
    </li>
  </ul>
  <div class="tab-content">
    <div class="tab-pane active" id="tab1">
      <table id="_rigmachine_table" class="table table-striped table-hover table-bordered">
        <thead>
        <tr>
          <th>设备编号</th>
          <th>钻机型号</th>
          <th>单位编码</th>
          <th>钻机重量</th>
          <th>钻进能力</th>
          <th>钻机功率</th>
          <th>通孔直径</th>
          <th>厂商</th>
          <th>占用状态</th>
        </tr>
      </thead>
      <tbody></tbody>
      </table>
    </div>
    <div class="tab-pane" id="tab2">
      <table id="_drilltower_table" class="table table-striped table-hover table-bordered">
        <thead>
        <tr>
          <th>设备编号</th>
          <th>型号</th>
          <th>单位编码</th>
          <th>有效载荷</th>
          <th>立根长度</th>
          <th>顶宽尺寸</th>
          <th>重量</th>
          <th>厂商</th>
          <th>占用状态</th>
        </tr>
      </thead>
      <tbody></tbody>
      </table>
    </div>
    <div class="tab-pane" id="tab3">
      <table id="_pump_table" class="table table-striped table-hover table-bordered">
        <thead>
        <tr>
          <th>设备编号</th>
          <th>型号</th>
          <th>单位编码</th>
          <th>缸径</th>
          <th>流量</th>
          <th>重量</th>
          <th>功率</th>
          <th>压力</th>
          <th>外观尺寸</th>
          <th>占用状态</th>
        </tr>
      </thead>
      <tbody></tbody>
      </table>
    </div>
  </div>
</div>
<br />
<% content_for :page_specific_javascripts do %>
  <%= javascript_include_tag 'jquery.dataTables.min' %>
  <%= javascript_include_tag 'jquery.dataTables.bootstrap' %>
<% end %>
<% content_for :inline_javascripts do %>
<script language="javascript">
  $(function(){

   var oTable1=$("#_rigmachine_table").dataTable({
     "aoColumns":[null,null,null,null,null,null,null,null,{"bSortable":false}],
        "bServerSide":true,
        "bAutoWidth" : false,
        "sAjaxSource":"<%=rigmachine_index_path(:format=>:json) %>",
        "oLanguage":{
        "sLengthMenu":"每页 _MENU_",
        "sZeroRecords":"对不起,没有数据",
        "sInfo":"显示 _START_ 到 _END_ ,总计_TOTAL_数据",
        "sInfoEmpty":"显示 0 到 0 , 总计0数据",
        "sSearch": "检索",
        "sProcessing": "系统正在处理...",
        "sInfoFiltered":"(过滤_MAX_数据)" },
        "sDom": "<'row-fluid'<'span6'l><'span6'<'dt-search'>>r>t<'row-fluid'<'span4'i><'span8'p>>"
    }
    );
        
   var oTable2=$("#_drilltower_table").dataTable({
     "aoColumns":[null,null,null,null,null,null,null,null,{"bSortable":false}],
        "bServerSide":true,
        "bAutoWidth" : false,
        "sAjaxSource":"<%=drilltower_index_path(:format=>:json) %>",
        "oLanguage":{
        "sLengthMenu":"每页 _MENU_",
        "sZeroRecords":"对不起,没有数据",
        "sInfo":"显示 _START_ 到 _END_ ,总计_TOTAL_数据",
        "sInfoEmpty":"显示 0 到 0 , 总计0数据",
        "sSearch": "检索",
        "sProcessing": "系统正在处理...",
        "sInfoFiltered":"(过滤_MAX_数据)" },
        "sDom": "<'row-fluid'<'span6'l><'span6'<'dt-search'>>r>t<'row-fluid'<'span4'i><'span8'p>>"
        }
     );

   var oTable3=$("#_pump_table").dataTable({
        "aoColumns":[null,null,null,null,null,null,null,null,null,{"bSortable":false}],
        "bServerSide":true,
        "bAutoWidth" : false,
        "sAjaxSource":"<%=pump_index_path(:format=>:json) %>",
        "oLanguage":{
        "sLengthMenu":"每页 _MENU_",
        "sZeroRecords":"对不起,没有数据",
        "sInfo":"显示 _START_ 到 _END_ ,总计_TOTAL_数据",
        "sInfoEmpty":"显示 0 到 0 , 总计0数据",
        "sSearch": "检索",
        "sProcessing": "系统正在处理...",
        "sInfoFiltered":"(过滤_MAX_数据)" },
        "sDom": "<'row-fluid'<'span6'l><'span6'<'dt-search'>>r>t<'row-fluid'<'span4'i><'span8'p>>"
        }
     );

  })

  function rigmachine_resume(devicenumber)
  {
    window.location.href="<%=rigmachine_resume_path %>?devicenumber="+devicenumber
  }

  function drilltower_resume(devicenumber)
  {
    window.location.href="<%=drilltower_resume_path %>?devicenumber="+devicenumber
  }

  function pump_resume(devicenumber)
  {
    window.location.href="<%=pump_resume_path %>?devicenumber="+devicenumber
  }
</script>
<% end %>
