<%= content_for :page_specific_javascripts do %>
  <%= javascript_include_tag 'jquery-ui-1.10.2.custom.min' %>
  <%= javascript_include_tag 'date-time/bootstrap-datepicker.min' %>
<% end %>
<script type="text/javascript">
	$.fn.datepicker.dates['zh-CN'] = {
			days: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六", "星期日"],
			daysShort: ["周日", "周一", "周二", "周三", "周四", "周五", "周六", "周日"],
			daysMin:  ["日", "一", "二", "三", "四", "五", "六", "日"],
			months: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
			monthsShort: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
			today: "今日"
	};
</script>
<%= content_for :page_specific_stylesheets do %>
  <%= stylesheet_link_tag 'datepicker' %>
<% end %>
<%= form_for @contract, :html=>{:class=>"form-horizontal"}  do |f|  %>
  <% if @contract.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@contract.errors.count, "error") %> prohibited this contract from being saved:</h2>

      <ul>
      <% @contract.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="row-fluid">
  <div class="span12">
  <div class="control-group">
    <%= f.label "合同名称" ,:class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :name , :class=>"input-xxlarge",:placeholder=>"机械岩心钻探合同书" %>
    </div>
  </div>
  </div>
  </div>

  <div class="row-fluid">
  <div class="span12">
  <div class="control-group">
    <%= f.label "项目名称" ,:class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :projectname, :class=>"input-xxlarge", :size=>50, :placeholder=>"河南省小秦岭金矿田北矿带F5矿脉深部金矿普查（Ⅰ标段）" %>
    </div>
  </div>
  </div>
  </div>

  <div class="row-fluid">
  <div class="span6">
  <div class="control-group">
    <%= f.label "合同编号" ,:class=>"control-label" %>
    <div class="controls">
    <%= f.text_field :contractno, :class=>"text_field",:placeholder=>"zt20130001" %>
    </div>
  </div>
  </div>

  <div class="span6">
  <div class="control-group">
    <%= f.label "合同业主" ,:class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :owner, :class=>"input-large" ,:placeholder=>"郑州四院" %>
    </div>
  </div>
  </div>
  </div>
  
  <div class="row-fluid">
  <div class="span6">
  <div class="control-group">
    <%= f.label "合同乙方" ,:class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :buyerparty, :class=>"input-large" ,:placeholder=>"郑州四院" %>
    </div>
  </div>
  </div>
  
  <div class="span6">
  <div class="control-group">
    <%= f.label "项目所在地" ,:class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :projectaddr, :class=>"input-large" ,:placeholder=>"河南省洛阳市XX县" %>
    </div>
  </div>
  </div>
  </div>

  <div class="row-fluid">
  <div class="span6">
  <div class="control-group">
    <%= f.label "资金来源" ,:class=>"control-label" %>
    <div class="controls">
      <%= f.select(:fundsource , options_for_select(Dictionary.fundsource.collect{|d|[d.item,d.id]}), :class=>"span4",:prompt=>"请选择") %>
    </div>
  </div>
  </div>

  <div class="span6">
  <div class="control-group">
    <%= f.label "合同金额" ,:class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
        <%= f.text_field :fundsource, :class=>"text_field" ,:placeholder=>"10,000" %><span class="add-on">元</span>
      </div>
    </div>
  </div>
  </div>
  </div>


  <div class="row-fluid">
  <div class="span6">
  <div class="control-group">
    <%= f.label "合同状态",:class=>"control-label" %>
    <div class="controls">
      <%= f.select(:status , options_for_select(Contract::STATUS), :class=>"span4",:prompt=>"请选择") %>
    </div>
  </div>
  </div>

  <div class="span6">
  <div class="control-group">
    <%= f.label "签订日期", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :signdate ,:class=>"text_field",:placeholder=>"2013-04-05" %>
    </div>
  </div>
  </div>
  </div>


  <div class="row-fluid">
  <div class="span6">
  <div class="control-group">
    <%= f.label "开始日期", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :startdate, :class=>"text_field" , :placeholder=>"2013-05-03"%>
    </div>
  </div>
  </div>

  <div class="span6">
  <div class="control-group">
    <%= f.label "结束日期", :class=>"control-label"%>
    <div class="controls">
    <%= f.text_field :finishdate, :class=>"text_field"%>
    </div>
  </div>
  </div>
  </div>


  <div class="row-fluid">
  <div class="span12">
  <div class="control-group">
    <%= f.label "合同内容" , :class=>"control-label" %>
    <div class="controls">
      <%= f.text_area :content, :class=>"input-xxlarge",:placeholder=>"",:rows=>4,:cols=>"20" %>
    </div>
  </div>
  </div>
  </div>

  <div class="row-fluid">
  <div class="span4">
  <div class="control-group">
    <%= f.label "合同附件",:class=>"control-label" %>
    <div class="controls">
      <input type="file" id="_contract_file"/>
    </div>
  </div>
  </div>
  </div>


  <div class="row-fluid">
  <div class="span12">
  <div class="control-group">
    <%= f.label "备注",:class=>"control-label" %>
    <div class="controls">
      <%= f.text_area :remark,:class=>"input-xxlarge",:rows=>3,:cols=>20 %>
    </div>
  </div>
  </div>
  </div>


  <div class="form-actions">
    <%= f.submit "新增合同" , :class=>"btn btn-primary" %>
    <%= link_back :class=>'btn btn-info'%>
  </div>
<% end %>
<script type="text/javascript">
$(function (){
	$.fn.datepicker.dates['zh-CN'] = {
			days: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六", "星期日"],
			daysShort: ["周日", "周一", "周二", "周三", "周四", "周五", "周六", "周日"],
			daysMin:  ["日", "一", "二", "三", "四", "五", "六", "日"],
			months: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
			monthsShort: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
			today: "今日"
	}
    });
</script>
<%= content_for :inline_javascripts do %>
<%= make_datepicker("#contract_startdate") %>
<%= make_datepicker("#contract_finishdate") %>
<%= make_datepicker("#contract_signdate") %>
<script type="text/javascript">
$('#_contract_file').ace_file_input({
        no_file:'No File ...',
        btn_choose:'Choose',
        btn_change:'Change',
        droppable:false,
        onchange:null,
        thumbnail:false //| true | large
        //whitelist:'gif|png|jpg|jpeg'
        //blacklist:'exe|php'
        //onchange:''
        //
      });
</script>
<% end %>
