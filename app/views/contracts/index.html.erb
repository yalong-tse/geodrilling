<% content_for(:title, "合同列表") %>
<%= content_for :page_specific_javascripts do %>
<% end %>
<div class="container">
  <%= render "query" %>
</div>
<table id="_table_contract" class="table table-striped table-bordered table-hover">
  <thead>
  <tr>
    <th>合同编号</th>
    <th>合同名称</th>
    <th>项目名称</th>
    <th>业主</th>
    <th>乙方</th>
    <th>合同金额</th>
    <th>签订日期</th>
    <th>开始日期</th>
    <th>完成日期</th>
    <th>合同状态</th>
  </tr>
</thead>
<tbody>
<% @contracts.each do |contract| %>
  <tr>
    <td><%= contract.contractno %></td>
    <td><%= link_to contract.name, contract_path(contract) %></td>
    <td><%= contract.projectname %></td>
    <td><%= contract.owner %></td>
    <td><%= contract.buyerparty %></td>
    <td><%= contract.contractamount %></td>
    <td><%= contract.signdate %></td>
    <td><%= contract.startdate %></td>
    <td><%= contract.finishdate %></td>
    <td><%= contract_status_treat(contract.status) %></td>
  </tr>
<% end %>
</tbody>
</table>
<br />
<div class="row-fluid">
  <div class="span4"></div>
  <div class="span4">
    <%= will_paginate @contracts, :renderer=>BootstrapPagination::Rails %>
  </div>
</div>
<% content_for :page_specific_javascripts do %>
  <%= javascript_include_tag 'jquery.dataTables.min' %>
  <%= javascript_include_tag 'jquery.dataTables.bootstrap' %>
<% end %>
<% content_for :inline_javascripts do %>
<script type="text/javascript">
  $(function(){
      var oTable1=$("#_table_contract").dataTable({
        "aoColumns":[
        null, null,null,null,null,null,null,null,null,{"bSortable":false}
        ],
        "oLanguage":{
        "sLengthMenu":"每页 _MENU_",
        "sZeroRecords":"对不起,没有数据",
        "sInfo":"显示 _START_ 到 _END_ ,总计_TOTAL_数据",
        "sInfoEmpty":"显示 0 到 0 , 总计0数据",
        "sInfoFiltered":"(过滤_MAX_数据)" }

        }
        );
  });
</script>
<% end %>
