<% content_for(:title, "合同列表") %>
<% content_for(:page_header_description, "分页分权限查看所有的合同信息,可以在检索输入框中输入信息，系统会自动检索内容") %>
<table id="_table_contract" class="table table-striped table-bordered table-hover" >
  <thead>
  <tr>
    <th>合同编号</th>
    <th>合同名称</th>
    <th>项目名称</th>
    <th>业主</th>
    <th>乙方</th>
    <th>合同金额</th>
    <th>签订日期</th>
    <th>开始日期</th>
    <th>完成日期</th>
    <th>合同状态</th>
  </tr>
</thead>
<tbody>
</tbody>
</table>
<br />
<% content_for :page_specific_javascripts do %>
  <%= javascript_include_tag 'jquery.dataTables.min' %>
  <%= javascript_include_tag 'jquery.dataTables.bootstrap' %>
<% end %>
<% content_for :inline_javascripts do %>
<script type="text/javascript">
  $(function(){
      var oTable1=$("#_table_contract").dataTable({
        "aoColumns":[null,null,null,null,null,null,null,null,null,null],
        "bServerSide":true,
        "bAutoWidth" :false,
        "sAjaxSource":"<%=contracts_path(:format=>:json) %>",
        "oLanguage":{
          "sLengthMenu":"每页 _MENU_",
          "sZeroRecords":"对不起,没有数据",
          "sInfo":"显示 _START_ 到 _END_ ,总计_TOTAL_数据",
          "sInfoEmpty":"显示 0 到 0 , 总计0条数据",
          "sSearch": "检索",
          "sProcessing": "系统正在处理...",
          "sInfoFiltered":"(过滤_MAX_数据)" },
        "sDom": "<'row-fluid'<'span6'l><'span6'<'dt-search'>>r>t<'row-fluid'<'span4'i><'span8'p>>"
        }
        );
    $("div.dt-search").html("<input id='dt-search-input' type='text''><button id='dt-search-btn' class='btn btn-mini'><i class='icon-search'></i></button>");
    $("#dt-search-btn").click(function(){
      var filterString = $('#dt-search-input').val();
      oTable1.fnFilter(filterString);
    });
  });
</script>
<% end %>
