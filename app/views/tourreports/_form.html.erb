<%= content_for :page_specific_stylesheets do %>
  <%= stylesheet_link_tag 'jquery-ui-1.10.3.custom.min' %>
  <%= stylesheet_link_tag 'chosen' %>
  <%= stylesheet_link_tag 'bootstrap-timepicker' %>
<% end %>
<%= form_for(@tourreport, :html=>{:class=>"form-horizontal"}) do |f| %>
  <% if @tourreport.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@tourreport.errors.count, "error") %> prohibited this tourreport from being saved:</h2>

      <ul>
      <% @tourreport.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
<div class="row-fluid">
  <div class="span6">
  <div class="control-group">
    <%= f.label "合同名称", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :hole , :class=>"text_field", :value=>@hole.contract.name ,:readonly=>true %>
    </div>
  </div>
  </div>

  <div class="span6">
  <div class="control-group">
    <%= f.label "项目名称", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :hole , :class=>"text_field", :value=>@hole.contract.projectname , :readonly=>true %>
    </div>
  </div>
  </div>
</div>


<div class="row-fluid">
  <div class="span6">
  <div class="control-group">
    <%= f.label "项目编号", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :hole , :class=>"text_field", :value=>@hole.contract.contractno , :readonly=>true %>
    </div>
  </div>
  </div>

  <div class="span6">
  <div class="control-group">
    <%= f.label "钻孔编号", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :hole , :class=>"text_field", :value=>@hole.holenumber , :readonly=>true %>
    </div>
  </div>
  </div>
</div>


<div class="row-fluid">
  <div class="span6">
  <div class="control-group">
    <%= f.label "项目经理", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :administrator , :class=>"text_field" , :value=>"机长" , :readonly=>true%>
    </div>
  </div>
  </div>

  <div class="span6">
  <div class="control-group">
    <%= f.label "班长" , :class=>"control-label" %>
    <div class="controls">
      <%= f.select(:tourleader, options_for_select([["班长一"],["班长二"],["班长三"]]),:class=>"text_field", :cols=>"3", :prompt=>"选择班长") %>
    </div>
  </div>
  </div>

</div>


<div class="row-fluid">
  <div class="span6">
  <div class="control-group">
    <%= f.label "班报日期", :class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :tourdate,:class=>"text_field" %>
    </div>
  </div>
  </div>

  <div class="span6">
  <div class="control-group">
    <%= f.label "记录员" ,:class=>"control-label" %>
    <div class="controls">
      <%= f.text_field :recorder ,:class=>"text_field"%>
    </div>
  </div>
  </div>
  </div>


<div class="row-fluid">
  <div class="span6">
  <div class="control-group">
    <%= f.label "开始时间" ,:class=>"control-label" %>
    <div class="controls">
      <%= f.select(:starttime, options_for_select(Tourreport::TOURTIME), :class=>"text_field",:cols=>"3", :prompt=>"请选择...") %>
    </div>
  </div>
  </div>

  <div class="span6">
  <div class="control-group">
    <%= f.label "结束时间" ,:class=>"control-label" %>
    <div class="controls">
      <%= f.select(:finishtime, options_for_select(Tourreport::TOURTIME), :class=>"text_field",:cols=>"3", :prompt=>"请选择...") %>
    </div>
  </div>
  </div>
  </div>


<div class="row-fluid">
  <div class="span6">
  <div class="control-group">
    <%= f.label "本班进尺" ,:class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
      <%= f.text_field :tourshift , :class=>"text_field" %><span class="add-on">米</span>
      </div>
    </div>
  </div>
  </div>

  <div class="span6">
  <div class="control-group">
    <%= f.label "本班取心" ,:class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
      <%= f.text_field :tourcore  , :class=>"text_field"%><span class="add-on">米</span>
      </div>
    </div>
  </div>
  </div>
  </div>


<div class="row-fluid">
  <div class="span6">
  <div class="control-group">
    <%= f.label "纯钻时长" ,:class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
      <%= f.text_field :tourdrillingtime , :class=>"text_field" %><span class="add-on">小时</span>
      </div>
    </div>
  </div>
  </div>

  <div class="span6">
  <div class="control-group">
    <%= f.label "辅助时长" , :class=>"control-label" %>
    <div class="controls">
      <div class="input-append">
      <%= f.text_field :tourauxiliarytime , :class=>"text_field"%><span class="add-on">小时</span>
      </div>
    </div>
  </div>
  </div>
  </div>

<div class="row-fluid">
  <div class="span12">
  <div class="control-group">
    <%= f.label "备注" , :class=>"control-label" %>
    <div class="controls">
      <%= f.text_area :remark ,:class=>"input-xlarge" ,:rows=>"4",:cols=>"50"%>
    </div>
  </div>
  </div>
  </div>

  <div class="space-24"></div>
  <h5 class="header smaller lighter green">工作内容</h5>
  <div class="row-fluid">
    <div class="span12">
      <div class="widget-box">
        <div class="widget-header">
          <h5>班报工作内容</h5>
          <span class="widget-toolbar">
            <a href="#" data-action="collapse"><i class="icon-chevron-up"></i></a>
          </span>
        </div>
        <div class="widget-body">
          <div class="widget-main">
            <div class="row-fluid">
              
   <div class="control-group">
    <div class="input-append bootstrap-timepicker">
      <%= text_field_tag :workcontent_starttime, nil, :class=>"time_picker input-mini" %><span class="add-on"><i class="icon-time"></i></span>
    </div>
    <div class="input-append bootstrap-timepicker">
      <%= text_field_tag :workcontent_finishtime, nil, :class=>"time_picker input-mini" %><span class="add-on"><i class="icon-time"></i></span>
    </div>
    <div class="input-prepend">
      <span class="add-on">工作内容</span>
      <%= select_tag(:workcontent,options_for_select(Tourreport::WORKITEM , :selected=>"下钻"), :class=>"input-small" )%>
    </div>
  </div>
  <div class="control-group">
    <div class="input-append bootstrap-timepicker">
      <%= text_field_tag :workcontent_starttime,nil, :class=>"time_picker input-mini" %><span class="add-on"><i class="icon-time"></i></span>
    </div>
    <div class="input-append bootstrap-timepicker">
      <%= text_field_tag :workcontent_finishtime,nil, :class=>"time_picker input-mini" %><span class="add-on"><i class="icon-time"></i></span>
    </div>
    <div class="input-prepend">
      <span class="add-on">工作内容</span>
      <%= select_tag(:workcontent,options_for_select(Tourreport::WORKITEM , :selected=>"钻进"), :class=>"input-small" )%>&nbsp;&nbsp;
    </div>
    <div class="input-prepend">
      <span class="add-on">进尺</span>
      <%=text_field_tag :workcontent_drillfootage ,nil, :class=>"input-mini" %>
    </div>
    <div class="input-prepend">
      <span class="add-on">钻头</span>
      <%=text_field_tag :workcontent_drillbit ,nil, :class=>"input-mini" %>
    </div>
    <div class="input-prepend">
      <span class="add-on">转速</span>
      <%=text_field_tag :workcontent_rotatespeed ,nil, :class=>"input-mini" %>
    </div>
    <div class="input-prepend">
      <span class="add-on">泵量</span>
      <%=text_field_tag :workcontent_pumpquantity ,nil, :class=>"input-mini" %>
    </div>
    <div class="input-prepend">
      <span class="add-on">泵压</span>
      <%=text_field_tag :workcontent_pumppressure,nil, :class=>"input-mini" %>
    </div>
  </div>
  <div class="control-group">
    <div class="input-append bootstrap-timepicker">
      <%= text_field_tag :workcontent_starttime,nil, :class=>"time_picker input-mini" %><span class="add-on"><i class="icon-time"></i></span>
    </div>
    <div class="input-append bootstrap-timepicker">
      <%= text_field_tag :workcontent_starttime,nil, :class=>"time_picker input-mini" %><span class="add-on"><i class="icon-time"></i></span>
    </div>
    <div class="input-prepend">
      <span class="add-on">工作内容</span>
      <%= select_tag(:workcontent,options_for_select(Tourreport::WORKITEM,:selected=>"取心"), :class=>"input-small"  )%>&nbsp;&nbsp;
    </div>
    <div class="input-prepend">
      <span class="add-on">岩心长度</span>
      <%= text_field_tag :starttime, nil,:class=>"input-mini" %>&nbsp;&nbsp;
    </div>
    <div class="input-prepend">
      <span class="add-on">残留岩心长度</span>
      <%= text_field_tag :starttime,nil, :class=>"input-mini" %>&nbsp;&nbsp;
    </div>
  </div>
  <div class="control-group">
    <div class="input-append bootstrap-timepicker">
      <%= text_field_tag :workcontent_starttime,nil, :class=>"time_picker input-mini" %><span class="add-on"><i class="icon-time"></i></span>
    </div>
    <div class="input-append bootstrap-timepicker">
      <%= text_field_tag :workcontent_starttime,nil, :class=>"time_picker input-mini" %><span class="add-on"><i class="icon-time"></i></span>
    </div>
    <div class="input-prepend">
      <span class="add-on">工作内容</span>
      <%= select_tag(:workcontent,options_for_select(Tourreport::WORKITEM, :selected=>"起钻"),:class=>"input-small"  )%>&nbsp;&nbsp;
    </div>
  </div>
  <div class="control-group">
      <button class="btn btn-info"><i class="icon-plus"></i> 增加一行</button>
  </div>
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="form-actions">
    <%= f.submit "新增班报" , :class=>"btn btn-primary" %>
    <%= link_back :class=>'btn btn-info', :html=>"<i class='icon-home'></i>" %>
  </div>
<% end %>
<%= make_datepicker("#tourreport_tourdate") %>
<%= content_for :page_specific_javascripts do %>
  <%= javascript_include_tag 'jquery-ui-1.10.3.custom.min' %>
  <%= javascript_include_tag 'jquery.ui.touch-punch.min' %>
  <%= javascript_include_tag 'chosen.jquery.min' %>
  <%= javascript_include_tag 'fuelux/fuelux.spinner.min' %>
  <%= javascript_include_tag 'date-time/moment.min' %>
  <%= javascript_include_tag 'date-time/bootstrap-timepicker.min' %>
<% end %>
<% content_for :inline_javascripts do %>
  <script type="text/javascript">

    $(function(){
        //alert("111");
        $(".time_picker").timepicker({
            minuteStep:1,
            showSeconds:true,
            showMeridian:false
          });
        
        })
  </script>
<% end %>
